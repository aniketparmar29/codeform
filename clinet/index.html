<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hathibrand-Agarbatti</title>
  <!-- Add Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
</head>

<body>
  <div class="container mt-5">
    <h1 class="text-center mb-4">ફોર્મ ભરો</h1>
    <form id="form" class="container d-flex flex-column justify-content-around gap-lg-5 align-content-center">
        <div class="form-group">
          <label for="name">નામ</label>
          <input type="text" class="form-control" id="name" name="name" placeholder="તમારું નામ">
        </div>
        <div class="form-group">
          <label for="address">સરનામું</label>
          <input type="text" class="form-control" id="address" name="address" placeholder="તમારું સરનામું">
        </div>
        <div class="form-group">
          <label for="village">ગામ</label>
          <input type="text" class="form-control" id="village" name="village" placeholder="તમારું ગામ">
        </div>
        <div class="form-group">
          <label for="taluka">તાલુકો</label>
          <input type="text" class="form-control" id="taluka" name="taluka" placeholder="તમારું તાલુકો">
        </div>
        <div class="form-group">
          <label for="district">જિલ્લો</label>
          <input type="text" class="form-control" id="district" name="district" placeholder="તમારું જિલ્લો">
        </div>
        <div class="form-group">
          <label for="pincode">પીનકોડ</label>
          <input type="number" class="form-control" id="pincode" name="pincode" placeholder="તમારું પીનકોડ">
        </div>
        <div class="form-group">
          <label for="mobile">મોબાઈલ નંબર</label>
          <input type="number" class="form-control" id="mobile" name="mobile" placeholder="તમારું મોબાઈલ નંબર">
        </div>
        <div class="form-group">
          <label for="weight">વજન (કિલોગ્રામમાં)</label>
          <select class="form-control" id="weight" name="weight">
            <option value="1">1 kg</option>
            <option value="2">2 kg</option>
            <option value="3">3 kg</option>
            <option value="4">4 kg</option>
            <option value="5">5 kg</option>
          </select>
        </div>
        <div class="form-group">
          <label for="aggarbati">અગરબતી નામ</label>
          <input type="text" class="form-control" id="aggarbati" value="ફુલવાડી" name="aggarbati" placeholder="અગરબતી નામ">
          
            </div>
            <button type="submit" id="opji" class="btn btn-primary">સબમિટ કરો</button>
          </form>
          
</div>
<!-- Add Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js
"></script>
</body>
</html>    
<script>
   const form = document.getElementById('form');
   const opji = document.getElementById("opji");
form.addEventListener('submit',async function(event) {
  event.preventDefault(); // prevent default form submission behavior

  // Get form input values
  const name = document.getElementById('name').value;
  const address = document.getElementById('address').value;
  const village = document.getElementById('village').value;
  const taluka = document.getElementById('taluka').value;
  const district = document.getElementById('district').value;
  const pincode = document.getElementById('pincode').value;
  const mobile = document.getElementById('mobile').value;
  const weight = document.getElementById('weight').value;
  const aggarbati = document.getElementById('aggarbati').value;

  // Perform validation
  if (!name || !address || !village || !taluka || !district || !pincode || !mobile || mobile.length !== 10 || !weight || !aggarbati) {
    alert('Please fill out all fields and ensure phone number length is 10.');
    return;
  }
  
  // If validation passes, submit the formconst date = new Date();
  const today = new Date();
const yyyy = today.getFullYear();
let mm = today.getMonth() + 1; // Months start at 0!
let dd = today.getDate();

if (dd < 10) dd = '0' + dd;
if (mm < 10) mm = '0' + mm;

const invoice_date = dd + '/' + mm + '/' + yyyy;

  // You can use AJAX to submit the form data to your server or process it however you like
  // For example:
  const opop = {
    name,
    address,
    village,
    taluka,
    invoice_date,
    district,
    pincode,
    mobile,
    weight,
    aggarbati
  };

try{
    opji.disabled=true;
     let res= await  fetch('https://hathibrand-form.onrender.com/forms', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(opop)
      })
      alert("તમારો ઓર્ડર બુક થઈ ગયો છે ઓડર આપવા બદલ આપનો ખુબ ખુબ આભાર ટૂંક સમય માં તમને પાર્સલ મળી જસે")

 }catch(err){
console.log(err)
opji.disabled=false;
alert("something went wrong")
 }
  // Use fetch API to submit form data to server
 
});


  </script>